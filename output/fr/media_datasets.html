<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Xibo Documentation</title>
        <meta name="viewport" content="width=device-width">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <!-- favicon -->
        <link href="../img/favicon.ico" rel="shortcut icon"/>

        <!-- Bootstrap -->
        <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
        
        <!-- Stylesheets -->
        <link href="../manual.css" rel="stylesheet" media="screen">
        
        <!-- META -->
        <meta name="keywords" content="digital signage, signage, narrow-casting, xibo, open source, agpl, documentation" />
        <meta name="description" content="Xibo is an open source digital signage solution. It supports all main media types and can be interfaced to other sources of data using CSV, Databases or RSS." />
    </head>
    <body data-toc="media">
        <!-- Copyright 2006-2013 Daniel Garner. Part of the Xibo Open Source Digital Signage Solution. Released under the AGPLv3 or later. -->
        <nav id="top-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#ss-navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="#" class="navbar-brand">Xibo Documentation</a>
                </div>
            
                <div class="collapse navbar-collapse" id="ss-navbar">
                    <ul class="nav navbar-nav">

                    </ul>
                </div>
            </div>
        </nav>

        <div class="ss_body container">
            <div class="row">
                <div class="col-md-3">
                    <ul id="side-nav" class="nav nav-pills nav-stacked">
                        <!-- <li><a href="index.html" data-toc-name="getting_started">Getting Started</a></li> -->
<li><a href="index.html" data-toc-name="tour">Tour</a></li><li><a href="displays.html" data-toc-name="displays">Displays</a></li><li><a href="layouts.html" data-toc-name="layouts">Layouts</a></li><li><a href="media.html" data-toc-name="media">Library</a></li><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><ul>
<li><a href="media.html">Overview</a></li>
<li><a href="media_library.html">Library</a></li>
<li class="active"><a href="media_datasets.html">DataSets<span class="glyphicon glyphicon-arrow-left you-are-here-arrow"></span></a></li>
<li><a href="media_modules.html">Modules</a></li>
<li><a href="media_tidylibrary.html">Tidy Library</a></li>
</ul></body></html>
<li><a href="scheduling.html" data-toc-name="scheduling">Scheduling</a></li><li><a href="users.html" data-toc-name="users">Users</a></li><li><a href="advanced.html" data-toc-name="advanced">Advanced</a></li>
                    </ul>
                </div>
                <div class="col-md-9" role="main">
                    <!--toc=media-->
<h1 id="datasets">DataSets <a href="#datasets" class="header-link"><span class="glyphicon glyphicon-link"></span></a></h1>
<p>DataSets are a feature to design and store tabular data. Once designed the data can be imported from a CSV file, entered manually, as JSON via the API or synced remotely on a schedule. A DataSet provides a convenient way to import and display data from other systems in Xibo.</p>
<p>Examples of where this could be used are:</p>
<ul>
<li>A drinks menu at a bar</li>
<li>Tee times at a golf club</li>
<li>Meeting room bookings</li>
</ul>
<p>DataSets have been designed to be versatile and reusable and therefore come in two parts:</p>
<ul>
<li>The DataSet (Data Structure and data)</li>
<li>The Display (DataSet View / Ticker / a source of data for a custom Module)</li>
</ul>
<p>The DataSet is defined in the Library and can be reused across multiple DataSet views and Layouts. DataSets are accessed using the Library menu, DataSet sub menu. An example table showing DataSets is below.</p>
<p><img src="../en/img/media_dataset_table.png" alt="Add Dataset" /></p>
<p>Each data set can have a number of actions performed against it, using the row menu.</p>
<h2 id="designing_your_dataset">Designing your DataSet <a href="#designing_your_dataset" class="header-link"><span class="glyphicon glyphicon-link"></span></a></h2>
<p>DataSets can be added using the top right &quot;Add DataSet&quot; button and Edited using the row menu. Designing a DataSet is a 2 step process - first you add the DataSet record and then you configure the columns.</p>
<ul>
<li><strong>Name</strong>: A name for the DataSet - used to identify it later in the CMS.</li>
<li><strong>Description</strong>: A description of this DataSet - what is it and what is it for.</li>
<li><strong>Code</strong>: A code for this DataSet, usually used for referencing this DataSet via the API</li>
<li><strong>Is Remote?</strong>: Should this DataSet sync itself with a remote data source?</li>
</ul>
<p>If you choose to make the DataSet a remote DataSet then you will also need to fill in details for the remote data source URL, request params, request method and authentication information. You will also need to determine how the resulting remote DataSet should be used. Further explaination on what these fields mean can be found below.</p>
<h4>Permissions</h4>
<p>The creator of a dataset (or an admin) is able to set the permissions for the DataSet on a user group, or on a user by user basis. Only users with Edit permissions will be able to add/edit data and reorganise the data structure, only users with a view permission will be able to use the DataSet in their Layouts.</p>
<h3>Columns</h3>
<p>Columns are added/edited by selecting &quot;View Columns&quot; from the row menu of any DataSet. A new window will open showing all columns currently created on that DataSet.</p>
<p><img src="../en/img/media_dataset_dataset_column.png" alt="Dataset Column" /></p>
<p>Columns are used to define the structure of the data, each column has a number of settings to achieve this, these are:</p>
<ul>
<li><strong>Heading</strong>: The Heading for this Column</li>
<li><strong>Column Type</strong>: Value, Formula or Remote. Is this column a user entered value (Value) or a calculated column (Formula).</li>
<li><strong>Data Type</strong>: What is the format for this data? String, Number, Date, Library Image, External Image.</li>
<li><strong>Column Order</strong>: The position this column should appear when viewing / entering data.</li>
</ul>
<p>Depending on the Column Type a column will also require:</p>
<ul>
<li><strong>List Content</strong>: A comma separated list of values that can be selected for this field.</li>
<li><strong>Remote Data Path</strong>: A JSON syntax string showing how to access the data in the remote data source</li>
</ul>
<p>There is no theoretical limit to the number of columns Xibo can support; although a smaller DataSet is often easier to enter and display.</p>
<p>Columns can be added and removed after data has been entered. The ordering and list content of columns can also be changed after data has been collected.</p>
<h3>Remote DataSets</h3>
<p>Remote DataSets are a special type of DataSet which periodically syncs from a 3rd party data source which you specify when adding/editing the DataSet. Xibo will call the URL specified at the time period specified and parse the data according to the instructions set on the DataSet and any Remote Columns.</p>
<p>The remote data source must be JSON formatted.</p>
<p>Data is populated according to the Columns defined that are of column type &quot;Remote&quot;. When specifying a remote column a &quot;data path&quot; is entered which is the JSON syntax path to the data for that column, with respect to the Data Root specified on the DataSet.</p>
<p>Consider an example JSON data source:</p>
<pre><code class="language-json">{
    "base": "EUR",
    "date": "2017-12-22",
    "rates": {
        "GBP": 0.88568,
        "THB": 38.83,
        "USD": 1.1853
    }
}</code></pre>
<p>If we wanted columns to capture the currency symbol and value, we would set our &quot;Data Root&quot; to <code>rates</code> and then have a columns for:</p>
<ul>
<li>Symbol - data path = 0</li>
<li>Value - data path = 1</li>
</ul>
<h4>Dependents</h4>
<p>A remote DataSet can depend on another DataSet to formulate its request. Each row in the dependent DataSet will be used to create a request using the parent DataSet's request parameters.</p>
<h2 id="deleting">Deleting <a href="#deleting" class="header-link"><span class="glyphicon glyphicon-link"></span></a></h2>
<p>DataSets can be deleted using the action menu. Select the Delete menu item to show the DataSet Delete form. DataSets can only be deleted if they are not currently being used.</p>
<h1 id="data">Data <a href="#data" class="header-link"><span class="glyphicon glyphicon-link"></span></a></h1>
<p>Once you have your DataSet configured you will want to add some data to it. This can be done in a number of ways:</p>
<ul>
<li>Manually through the CMS user interface</li>
<li>Imported via a CSV file</li>
<li>Through the API</li>
<li>Remotely synced</li>
</ul>
<h2 id="manually">Manually <a href="#manually" class="header-link"><span class="glyphicon glyphicon-link"></span></a></h2>
<p>Data can always be viewed/added and edited in a DataSet using the View Data row menu, or the &quot;View Data&quot; action menu on the Columns page. The data table returned will contain a column for each of the Columns you've defined in your configuration. There will also be a filter option for each - see below for an example:</p>
<p><img src="../en/img/media_dataset_row.png" alt="Dataset Row" /></p>
<p>A new row can be added using the &quot;Add Row&quot; button, which opens a form with fields for all non-forumla columns. A row can be eidted by clicking anywhere on the row, and deleted using the <code>x</code> in the right most column.</p>
<h2 id="importing_from_csv_file">Importing from CSV file <a href="#importing_from_csv_file" class="header-link"><span class="glyphicon glyphicon-link"></span></a></h2>
<p>The CMS has a DataSet CSV importer that can be used to extract data from a CSV file and put it into a DataSet. The importer can be accessed through the row menu of any DataSet, except DataSets configured for remote data sources.</p>
<p>When the importer opens the columns in the DataSet will be listed out with a field next to them indicating the column in the remote file that should be used as a source of data for that column. You may also choose to overwrite the existing data and ignore the first row of the CSV file.</p>
<p>An example of the form is shown below:</p>
<p><img src="../en/img/media_dataset_importcsv_form.png" alt="Dataset Import CSV" /></p>
<p>It is important to ensure that your CSV file has the correct file encoding if you are using non-ASCII characters. Non-ASCII characters are very common for languages outside of English. The file encoding most commonly used is UTF-8.</p>
<p>If you have edited your CSV file using Excel, you will need to make sure you select &quot;Unicode (UTF-8)&quot; from the Tools -&gt; Web Options -&gt; Encoding tab on the Save as dialog.</p>
<h2 id="through_the_api">Through the API <a href="#through_the_api" class="header-link"><span class="glyphicon glyphicon-link"></span></a></h2>
<p>You can write your own application which syncs data into a DataSet using the Xibo API. Data can be added row by row or via importing whole JSON structures.</p>
<p>Further discussion on the API can be viewed in the <a href="cms_api.html">CMS API documentation</a>.</p>
<h2 id="remotely">Remotely <a href="#remotely" class="header-link"><span class="glyphicon glyphicon-link"></span></a></h2>
<p>Remote DataSets are kept in sync with a Task called &quot;Fetch Remote DataSets&quot;. This task is configured by default and runs once per minute.</p>
                </div>
            </div>
        </div> <!-- container-->
        <footer class="ss_footer" role="contentinfo">
            <div class="container">
                <div class="pull-right">
                    <img class="img-responsive logo" src="../img/logo.png" alt="Xibo" />
                </div>

                <p class="ss_back_to_top">Back to Top</p>

                <p>Designed and built by <a href="http://springsignage.com/">Spring Signage</a> for the <a href="http://www.xibo.org.uk" target="_blank">Xibo Project</a>.</p>
                <p>Open Source Code licensed under <a href="" target="_blank">GNU Affero General Public License v3 or later</a>, documentation under <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.0/uk/" target="_blank">Creative Commons Licence</a>.</p>

                <p class="ss_footer_links">Currently v1.8.4</p>

                <p class="ss_languages"><a href="../en/index.html">en</a> | <a href="../fr/index.html">fr</a></p>
            </div>
        </footer>

        <!-- JavaScript -->
        <script src="../vendor/jquery/jquery-1.9.1.js"></script>
        <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $(".ss_body img").addClass("img-thumbnail");
                $(".ss_body table").addClass("table");

                // Set the selected page based on the TOC name
                // Mark the appropriate top nav element as the selected page
                $("#side-nav a").each(function() {
                    if ($(this).data().tocName == $("body").data().toc)
                        $(this).parent().addClass("active");
                });

                $(".ss_back_to_top").click(function() {
                    $('html, body').animate({scrollTop : 0},800);
                });

                if (inIframe()) {
                    console.log("In Frame");
                    $("#top-nav").css("display", "none");
                    $(".ss-sidebar").parent().css("display", "none");
                }
            });

            function inIframe () {
                try {
                    return window.self !== window.top;
                } catch (e) {
                    return true;
                }
            }
        </script>
    </body>
</html>
