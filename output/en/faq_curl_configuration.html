<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Xibo Documentation</title>
        <meta name="viewport" content="width=device-width">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <!-- favicon -->
        <link href="../img/favicon.ico" rel="shortcut icon"/>

        <!-- Bootstrap -->
        <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
        
        <!-- Stylesheets -->
        <link href="../manual.css" rel="stylesheet" media="screen">
        
        <!-- META -->
        <meta name="keywords" content="digital signage, signage, narrow-casting, xibo, open source, agpl, documentation" />
        <meta name="description" content="Xibo is an open source digital signage solution. It supports all main media types and can be interfaced to other sources of data using CSV, Databases or RSS." />
    </head>
    <body data-toc="getting_started">
        <!-- Copyright 2006-2013 Daniel Garner. Part of the Xibo Open Source Digital Signage Solution. Released under the AGPLv3 or later. -->
        <nav id="top-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#ss-navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="#" class="navbar-brand">Xibo Documentation</a>
                </div>
            
                <div class="collapse navbar-collapse" id="ss-navbar">
                    <ul class="nav navbar-nav">

                    </ul>
                </div>
            </div>
        </nav>

        <div class="ss_body container">
            <div class="row">
                <div class="col-md-3">
                    <ul id="side-nav" class="nav nav-pills nav-stacked">
                        <!-- <li><a href="index.html" data-toc-name="getting_started">Getting Started</a></li> -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><ul>
<li><a href="index.html">Introduction</a></li>
<li><a href="release_notes.html">Release Notes</a></li>
<li><a href="install_cms.html">CMS Installation</a></li>
<li><a href="upgrade.html">Upgrading</a></li>
<li><a href="install_windows_client.html">Windows Player Installation</a></li>
<li><a href="cms_settings.html">CMS Settings</a></li>
<li><a href="troubleshooting.html">Troubleshooting</a></li>
<li><a href="licence_information.html">Licenses</a></li>
</ul></body></html>
<li><a href="index.html" data-toc-name="tour">Tour</a></li><li><a href="displays.html" data-toc-name="displays">Displays</a></li><li><a href="layouts.html" data-toc-name="layouts">Layouts</a></li><li><a href="media.html" data-toc-name="media">Library</a></li><li><a href="scheduling.html" data-toc-name="scheduling">Scheduling</a></li><li><a href="users.html" data-toc-name="users">Users</a></li><li><a href="advanced.html" data-toc-name="advanced">Advanced</a></li>
                    </ul>
                </div>
                <div class="col-md-9" role="main">
                    <!--toc=getting_started-->
<h1 id="using_tickers_and_other_external_resources_over_https">Using Tickers and other external resources over HTTPS <a href="#using_tickers_and_other_external_resources_over_https" class="header-link"></a></h1>
<p>It is easy to reference and use external sources in Xibo widgets such as Tickers, however special consideration may need to be taken when referencing resources provided over SSL (anything with HTTPS at the front of the Address).</p>
<h2 id="symptoms">Symptoms <a href="#symptoms" class="header-link"></a></h2>
<p>You have added a Ticker which references a feed served over HTTPS and nothing is shown. You have checked the logs and note a message similar to:</p>
<pre><code>SSL certificate problem, verify that the CA cert is OK</code></pre>
<p>The message originates from something called <code>curl</code>.</p>
<h2 id="explanation">Explanation <a href="#explanation" class="header-link"></a></h2>
<p><code>curl</code> is a PHP extension which allows the CMS to download resources from external sources like the Internet or a Local Network.</p>
<p>Any time Xibo uses <code>curl</code> it makes sure that it &quot;Verifies the Peer&quot;. In basic terms this means it checks to ensure whomever supplies the data is who they say they are.</p>
<p>Xibo does this because if something is served over HTTPS then it is reasonable to assume the returned information is sensitive and that it should be protected and verified.</p>
<p>The certificate problem error occurs because <code>curl</code> uses a bundle of &quot;CA root certificates&quot; to perform the verification and these certificates are missing on some installations. For example, these certificates are almost always missing on Windows Installations.</p>
<h2 id="resolution">Resolution <a href="#resolution" class="header-link"></a></h2>
<p>The web server that hosts the CMS needs to be updated with the latest CA root certificates. This may sound complicated, but is actually very easy.</p>
<ol>
<li>Download the latest CA root certificate from the <a href="http://curl.haxx.se/docs/caextract.html">curl website</a>.</li>
<li>Edit the <code>php.ini</code> file for your PHP installation to tell <code>curl</code> where the root certificate is located. You will be adding a line that looks like <code>curl.cainfo=c:\php\cacert.pem</code>.</li>
<li>Restart the web server.</li>
</ol>
<p>If these steps still produce the same error, then the certificate signing the resource you have requested in invalid and you actually want the error to be thrown to protect your data.</p>
<h2 id="further_reading">Further Reading <a href="#further_reading" class="header-link"></a></h2>
<p>There are some excellent sources of further reading:</p>
<ul>
<li><a href="http://snippets.webaware.com.au/howto/stop-turning-off-curlopt_ssl_verifypeer-and-fix-your-php-config/">Stop turning off CURLOPT_SSL_VERIFYPEER and fix your PHP config</a> by Ross McKay</li>
<li><a href="http://curl.haxx.se/docs/caextract.html">Latest root certificate</a></li>
<li><a href="http://php.net/manual/en/curl.configuration.php">PHP option to set in PHP.ini</a></li>
</ul>
                </div>
            </div>
        </div> <!-- container-->
        <footer class="ss_footer" role="contentinfo">
            <div class="container">
                <div class="pull-right">
                    <img class="img-responsive logo" src="../img/logo.png" alt="Xibo" />
                </div>

                <p class="ss_back_to_top">Back to Top</p>

                <p>Designed and built by <a href="http://springsignage.com/">Spring Signage</a> for the <a href="http://www.xibo.org.uk" target="_blank">Xibo Project</a>.</p>
                <p>Open Source Code licensed under <a href="" target="_blank">GNU Affero General Public License v3 or later</a>, documentation under <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.0/uk/" target="_blank">Creative Commons Licence</a>.</p>

                <p class="ss_footer_links">Currently v1.8.4</p>

                <p class="ss_languages"><a href="../en/index.html">en</a> | <a href="../fr/index.html">fr</a></p>
            </div>
        </footer>

        <!-- JavaScript -->
        <script src="../vendor/jquery/jquery-1.9.1.js"></script>
        <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $(".ss_body img").addClass("img-thumbnail");
                $(".ss_body table").addClass("table");

                // Set the selected page based on the TOC name
                // Mark the appropriate top nav element as the selected page
                $("#side-nav a").each(function() {
                    if ($(this).data().tocName == $("body").data().toc)
                        $(this).parent().addClass("active");
                });

                $(".ss_back_to_top").click(function() {
                    $('html, body').animate({scrollTop : 0},800);
                });

                if (inIframe()) {
                    console.log("In Frame");
                    $("#top-nav").css("display", "none");
                    $(".ss-sidebar").parent().css("display", "none");
                }
            });

            function inIframe () {
                try {
                    return window.self !== window.top;
                } catch (e) {
                    return true;
                }
            }
        </script>
    </body>
</html>
