<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Xibo Documentation</title>
        <meta name="viewport" content="width=device-width">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <!-- favicon -->
        <link href="../img/favicon.ico" rel="shortcut icon"/>

        <!-- Bootstrap -->
        <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
        
        <!-- Stylesheets -->
        <link href="../manual.css" rel="stylesheet" media="screen">
        
        <!-- META -->
        <meta name="keywords" content="digital signage, signage, narrow-casting, captivad, open source, agpl, documentation" />
        <meta name="description" content="Captivad is an open source digital signage solution. It supports all main media types and can be interfaced to other sources of data using CSV, Databases or RSS." />
    </head>
    <body data-toc="cms_installation">
        
        <nav id="top-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#ss-navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="#" class="navbar-brand">Xibo Documentation</a>
                </div>
            
                <div class="collapse navbar-collapse" id="ss-navbar">
                    <ul class="nav navbar-nav">

                    </ul>
                </div>
            </div>
        </nav>

        <div class="ss_body container">
            <div class="row">
                <div class="col-md-3">
                    <ul id="side-nav" class="nav nav-pills nav-stacked">
                        <li><a href="index.html" data-toc-name="cms_installation">Getting Started</a></li><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><ul>
<li><a href="install_cms.html">CMS Installation</a></li>
<li><a href="install_docker_linux.html">Docker on Linux</a></li>
<li><a href="install_docker_win10_64bit.html">Docker on Windows 10 64bit</a></li>
<li><a href="install_docker_winother_64bit.html">Docker on other Windows 64bit</a></li>
<li class="active"><a href="install_docker_without_compose.html">Docker on an existing Docker cluster<span class="glyphicon glyphicon-arrow-left you-are-here-arrow"></span></a></li>
<li><a href="manual_install.html">On a Web server</a></li>
<li><a href="install_custom_content.html">Custom scripts and pages</a></li>
</ul></body></html>
<li><a href="index.html" data-toc-name="tour">Tour</a></li><li><a href="displays.html" data-toc-name="displays">Displays</a></li><li><a href="layouts.html" data-toc-name="layouts">Layouts</a></li><li><a href="media.html" data-toc-name="media">Library</a></li><li><a href="scheduling.html" data-toc-name="scheduling">Scheduling</a></li><li><a href="users.html" data-toc-name="users">Users</a></li><li><a href="advanced.html" data-toc-name="advanced">Advanced</a></li>
                    </ul>
                </div>
                <div class="col-md-9" role="main">
                    <!--toc=cms_installation-->
<h1 id="docker_without_docker_compose">Docker without Docker Compose <a href="#docker_without_docker_compose" class="header-link"></a></h1>
<p>If you have your own docker environment you may want to run without the
automation provided by docker-compose. If this is the case you will be responsible
for pulling the docker containers, starting them and manually installing Xibo.</p>
<p>The structure expected by the containers is outlined below.</p>
<h4>Containers</h4>
<p>There are 2 containers provided:</p>
<ul>
<li>web</li>
<li>xmr</li>
</ul>
<p>These are built by Docker Hub and packaged into <code>xibo-signage/xibo-cms</code> and <code>xibosignage/xibo-xmr</code>.</p>
<p>Xibo also requires a database - we recommend using the <code>mysql</code> container available on
Docker Hub. Any MySQL based container can be used, provided it can be linked to the <code>cms-web</code>
container. It is also possible to use an external database by providing those details to the <code>cms-web</code>
container as environment variables, as below:</p>
<ul>
<li>MYSQL_HOST</li>
<li>MYSQL_PORT</li>
<li>MYSQL_DATABASE</li>
<li>MYSQL_USER</li>
<li>MYSQL_PASSWORD</li>
</ul>
<p>If you decide to run the containers yourself you should read and understand the <code>DockerFile</code> which can
be found for each container in the <code>/containers</code> folder.</p>
<p>You may also want to pass in environment variables to configure SMTP in the container. All options are fully
documented in the <code>config.env.template</code> and <code>config.env.template-remote-mysql</code> files found in our archives.</p>
<h4>Storing Data</h4>
<p>Data folders should be mapped outside the Docker containers as volumes so that data is persisted
across Container upgrades. The following Data folders are used by <code>docker-compose</code> and should
be configured for your environment:</p>
<ul>
<li>The Library storage can be found in <code>/shared/cms/library</code></li>
<li>The database storage can be found in <code>/shared/db</code></li>
<li>Automated daily database backups can be found in <code>/shared/backup</code></li>
<li>Custom themes should be placed in <code>/shared/cms/web/theme/custom</code></li>
<li>Custom modules should be placed in <code>/shared/cms/custom</code></li>
<li>Any user generated PHP or resources external to Xibo that you want hosted
on the same webserver go in <code>/shared/cms/web/userscripts</code>. They will then
be available to you at <code>http://localhost/userscripts/</code></li>
</ul>
                </div>
            </div>
        </div> <!-- container-->
        <footer class="ss_footer" role="contentinfo">
            <div class="container">
                <div class="pull-right">
                    <img class="img-responsive logo" src="../img/logo.png" alt="Captivad" />
                </div>

                <p class="ss_back_to_top">Back to Top</p>

                <p>Designed and built by <a href="http://springsignage.com/">Spring Signage</a> for the <a href="http://www.xibo.org.uk" target="_blank">Xibo Project</a>.</p>
                <p>Open Source Code licensed under <a href="" target="_blank">GNU Affero General Public License v3 or later</a>, documentation under <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.0/uk/" target="_blank">Creative Commons Licence</a>.</p>

                <p class="ss_footer_links">Currently v1.8.4</p>

                <p class="ss_languages"><a href="../en/index.html">en</a> | <a href="../fr/index.html">fr</a></p>
            </div>
        </footer>

        <!-- JavaScript -->
        <script src="../vendor/jquery/jquery-1.9.1.js"></script>
        <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $(".ss_body img").addClass("img-thumbnail");
                $(".ss_body table").addClass("table");

                // Set the selected page based on the TOC name
                // Mark the appropriate top nav element as the selected page
                $("#side-nav a").each(function() {
                    if ($(this).data().tocName == $("body").data().toc)
                        $(this).parent().addClass("active");
                });

                $(".ss_back_to_top").click(function() {
                    $('html, body').animate({scrollTop : 0},800);
                });

                if (inIframe()) {
                    console.log("In Frame");
                    $("#top-nav").css("display", "none");
                    $(".ss-sidebar").parent().css("display", "none");
                }
            });

            function inIframe () {
                try {
                    return window.self !== window.top;
                } catch (e) {
                    return true;
                }
            }
        </script>
    </body>
</html>
